{{ define "title" }}{{ .Title }} - {{ .Site.Title }}{{ end }}

{{ define "main" }}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-4xl font-serif font-bold text-gray-800 mb-8 text-center">Documents</h1>
    <p class="text-center text-gray-700 mb-10">View details for each document.</p>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {{ $base := "/downloads/markdown/" }}
        {{ $items := .Site.Data.publications }}
        {{ if not $items }}
            {{ $items = slice 
                (dict "title" "SA Register" "years" "1845–1876" "file" "1845-76_SA_Register.md" "slug" "sa-register" "description" "Adelaide-based reporting on Burra before a local press existed—copper discoveries, SA Mining Association, land sales, and early civic development. Compiled from Ian Auhl’s notes (613 pages).")
                (dict "title" "Record" "years" "1876–1879" "file" "1876-79_Record.md" "slug" "record-1876-79" "description" "Founding years of Burra’s local newspaper through several name changes. Rich in adverts and town life; mining, rail expansion, council politics, churches and clubs.")
                (dict "title" "Record" "years" "1880–1899" "file" "1880-99_Record.md" "slug" "record-1880-99" "description" "Late‑Victorian Burra: railway growth, mining cycles, agriculture, local businesses; births/deaths and civic improvements with frequent commentary on prosperity and infrastructure.")
                (dict "title" "Record" "years" "1900–1919" "file" "1900-1919_Record.md" "slug" "record-1900-1919" "description" "Federation to WWI—Boer War patriotism, schools, council, Friendly Societies, sport, and early electricity/technology; intense community activity during wartime.")
                (dict "title" "Record" "years" "1920–1939" "file" "1920-39_Record.md" "slug" "record-1920-39" "description" "Inter‑war decades—motoring, cinemas, clubs, commerce; rainfall and farming reports; extensive local advertising and social notes.")
                (dict "title" "Record" "years" "1940–1959" "file" "1940-59_Record.md" "slug" "record-1940-59" "description" "WWII and post‑war years—Red Cross and service groups, school results, sport, returning soldiers, retail and building trades, gradual modernisation.")
                (dict "title" "Record" "years" "1960–Part 77 (to 1977)" "file" "1960-Part_77_Record.md" "slug" "record-1960-part77" "description" "1960–1977: community notices, retail ads, roads, hospitals, schools—everyday life snapshots leading up to the end of the Record.")
                (dict "title" "BCS & Community News" "years" "1978–1993" "file" "1978-1993_BCS__CN.md" "slug" "bcs-cn" "description" "School‑anchored community paper that filled the post‑Record gap; heavy on school, youth, clubs and local events, gradually broadening into town coverage.")
                (dict "title" "Northern Argus" "years" "1985–1987" "file" "1985-87_Northern__Argus.md" "slug" "northern-argus" "description" "Regional paper’s Burra items—heritage debates (Copper Interpretation Centre), fires, obituaries, marriages, council and community happenings.")
                (dict "title" "Burra Broadcaster" "years" "1991–2016" "file" "1991-2016_Burra_Broadcaster.md" "slug" "burra-broadcaster" "description" "Begins as an ad‑heavy circular; grows into a local paper. Early 1990s have gaps; later 2013–2016 revival includes online/print issues with colour.")
                (dict "title" "Mid North Broadcaster" "years" "2006–2013" "file" "2006-13_MidNorthBroadcaster.md" "slug" "mid-north-broadcaster" "description" "Regional successor after acquisition; broader Mid‑North focus with colour/features—schools, sport, weather events, and council works.")
                (dict "title" "Review Times Record" "years" "1977–1978" "file" "Review_Times_Record.md" "slug" "review-times-record" "description" "Immediate post‑Record bridge—club results, show society, council items, sport, and community projects in a transitional period.")
                (dict "title" "Compiler’s Note" "years" "2015" "file" "Compiler_s_Note_2015.md" "slug" "compilers-note" "description" "Eric’s overview of scope and gaps; cautions on interpretation; page counts per source and notes on methodology.")
                (dict "title" "Eric’s Research Notes" "years" "Summary" "file" "Eric_s_Research_-_pages_notesx.md" "slug" "erics-research-notes" "description" "Compact tally of page counts by source (~9,168 pages; ~18 reams). Useful for scale/context across the collection.")
            }}
        {{ end }}
        {{ range $items }}
        <div class="bg-white rounded-lg shadow border border-gray-200 p-6">
            <div class="flex items-baseline justify-between mb-2">
                <h2 class="text-xl font-serif font-semibold text-gray-900">{{ .title }}</h2>
                <span class="text-sm text-gray-500">{{ .years }}</span>
            </div>
            <p class="text-gray-700 text-sm mb-4">{{ .description }}</p>
            <div class="flex items-center justify-end">
                {{ $slug := .slug }}
                {{ if not $slug }}{{ $slug = (urlize .title) }}{{ end }}
                <a class="inline-flex items-center text-gray-700 hover:text-gray-900" href="/publications/{{ $slug }}/">
                    View Document
                    <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </a>
            </div>
        </div>
        {{ end }}
    </div>
</div>
{{ end }}